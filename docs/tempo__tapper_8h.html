<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tempo Tapper: include/tempo_tapper.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tempo Tapper
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">A simple library to implement a tempo tapper</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tempo_tapper.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides all necessary structs and functions to implement a tempo tapper.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tempo_tapper.h:</div>
<div class="dyncontent">
<div class="center"><img src="tempo__tapper_8h__incl.png" border="0" usemap="#include_2tempo__tapper_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="tempo__tapper_8h__dep__incl.png" border="0" usemap="#include_2tempo__tapper_8hdep" alt=""/></div>
</div>
</div>
<p><a href="tempo__tapper_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtempo__tapper.html">tempo_tapper</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tempo tapper struct.  <a href="structtempo__tapper.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8e69185d6cf84881ab5921becc3be249"><td class="memItemLeft" align="right" valign="top"><a id="a8e69185d6cf84881ab5921becc3be249"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>S_TO_US</b>&#160;&#160;&#160;1000000</td></tr>
<tr class="separator:a8e69185d6cf84881ab5921becc3be249"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a32d08f657b75eff5bd9726f119e6f56b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtempo__tapper.html">tempo_tapper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#a32d08f657b75eff5bd9726f119e6f56b">tempo_tapper</a></td></tr>
<tr class="memdesc:a32d08f657b75eff5bd9726f119e6f56b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tempo tapper struct.  <a href="tempo__tapper_8h.html#a32d08f657b75eff5bd9726f119e6f56b">More...</a><br /></td></tr>
<tr class="separator:a32d08f657b75eff5bd9726f119e6f56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab2548e0a4b4ebf06eed0cde2478a99f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#ab2548e0a4b4ebf06eed0cde2478a99f4">current_time</a> (tt_time_t *time)</td></tr>
<tr class="memdesc:ab2548e0a4b4ebf06eed0cde2478a99f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives the current clock time.  <a href="tempo__tapper_8h.html#ab2548e0a4b4ebf06eed0cde2478a99f4">More...</a><br /></td></tr>
<tr class="separator:ab2548e0a4b4ebf06eed0cde2478a99f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e82676b897bbffc439046cc597d633a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#a9e82676b897bbffc439046cc597d633a">add_time</a> (tt_time_t *a, tt_time_t *b, tt_time_t *res)</td></tr>
<tr class="memdesc:a9e82676b897bbffc439046cc597d633a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds two time values.  <a href="tempo__tapper_8h.html#a9e82676b897bbffc439046cc597d633a">More...</a><br /></td></tr>
<tr class="separator:a9e82676b897bbffc439046cc597d633a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be4acb58f6a1bdbf36b49b6e9c6a427"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#a8be4acb58f6a1bdbf36b49b6e9c6a427">sub_time</a> (tt_time_t *a, tt_time_t *b, tt_time_t *res)</td></tr>
<tr class="memdesc:a8be4acb58f6a1bdbf36b49b6e9c6a427"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtracts two time values.  <a href="tempo__tapper_8h.html#a8be4acb58f6a1bdbf36b49b6e9c6a427">More...</a><br /></td></tr>
<tr class="separator:a8be4acb58f6a1bdbf36b49b6e9c6a427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1a8f086496c86c0c5593eb8267283b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#a9f1a8f086496c86c0c5593eb8267283b">reset_time</a> (tt_time_t *time)</td></tr>
<tr class="memdesc:a9f1a8f086496c86c0c5593eb8267283b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets a time var to 0.  <a href="tempo__tapper_8h.html#a9f1a8f086496c86c0c5593eb8267283b">More...</a><br /></td></tr>
<tr class="separator:a9f1a8f086496c86c0c5593eb8267283b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34adb0adab019689d84b201859beae43"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#a34adb0adab019689d84b201859beae43">time_to_us</a> (tt_time_t *time)</td></tr>
<tr class="memdesc:a34adb0adab019689d84b201859beae43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a time value in microseconds.  <a href="tempo__tapper_8h.html#a34adb0adab019689d84b201859beae43">More...</a><br /></td></tr>
<tr class="separator:a34adb0adab019689d84b201859beae43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651d8d5e4cfd850c4174f8afa381526a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtempo__tapper.html">tempo_tapper</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#a651d8d5e4cfd850c4174f8afa381526a">tt_new</a> ()</td></tr>
<tr class="memdesc:a651d8d5e4cfd850c4174f8afa381526a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new tempo tapper instance.  <a href="tempo__tapper_8h.html#a651d8d5e4cfd850c4174f8afa381526a">More...</a><br /></td></tr>
<tr class="separator:a651d8d5e4cfd850c4174f8afa381526a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b7b4c29845f07ba8678b35968f66cc"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#a64b7b4c29845f07ba8678b35968f66cc">tt_period_us</a> (<a class="el" href="structtempo__tapper.html">tempo_tapper</a> *tapper)</td></tr>
<tr class="memdesc:a64b7b4c29845f07ba8678b35968f66cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the period of a tempo in microseconds.  <a href="tempo__tapper_8h.html#a64b7b4c29845f07ba8678b35968f66cc">More...</a><br /></td></tr>
<tr class="separator:a64b7b4c29845f07ba8678b35968f66cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08a70fd14b08b0b2c49d5975777b0178"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#a08a70fd14b08b0b2c49d5975777b0178">tt_tap</a> (<a class="el" href="structtempo__tapper.html">tempo_tapper</a> *tapper)</td></tr>
<tr class="memdesc:a08a70fd14b08b0b2c49d5975777b0178"><td class="mdescLeft">&#160;</td><td class="mdescRight">"Taps" the tempo tapper  <a href="tempo__tapper_8h.html#a08a70fd14b08b0b2c49d5975777b0178">More...</a><br /></td></tr>
<tr class="separator:a08a70fd14b08b0b2c49d5975777b0178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7160cb12c6cc18e6d4322235ba25fc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#af7160cb12c6cc18e6d4322235ba25fc4">tt_reset</a> (<a class="el" href="structtempo__tapper.html">tempo_tapper</a> *tapper)</td></tr>
<tr class="memdesc:af7160cb12c6cc18e6d4322235ba25fc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the tempo tapper.  <a href="tempo__tapper_8h.html#af7160cb12c6cc18e6d4322235ba25fc4">More...</a><br /></td></tr>
<tr class="separator:af7160cb12c6cc18e6d4322235ba25fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1d44fa6cc701a71953643d3585e298"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tempo__tapper_8h.html#aed1d44fa6cc701a71953643d3585e298">tt_bpm</a> (<a class="el" href="structtempo__tapper.html">tempo_tapper</a> *tapper)</td></tr>
<tr class="memdesc:aed1d44fa6cc701a71953643d3585e298"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the tempo in BPM.  <a href="tempo__tapper_8h.html#aed1d44fa6cc701a71953643d3585e298">More...</a><br /></td></tr>
<tr class="separator:aed1d44fa6cc701a71953643d3585e298"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides all necessary structs and functions to implement a tempo tapper. </p>
<dl class="section author"><dt>Author</dt><dd>Patrick Pedersen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2021-08-05</dd></dl>
<p>The following file Provides all necessary strucs and functions to implement a tempo tapper, i.e. the tempo tapper struct and prototypes for all functions that interact with a tempo tapper struct instance.</p>
<p>The tempo tapper libraries is supported by multiple target platforms. Define one of the following preprocessors to select your target platform:</p>
<ul>
<li>TT_TARGET_PLATFORM_POSIX - Posix compliant platforms (Ex. Linux, MacOS, etc.)</li>
<li>TT_TARGET_PLATFORM_ARDUINO - Platforms that support the Arduino programming framework </li>
</ul>

<p class="definition">Definition in file <a class="el" href="tempo__tapper_8h_source.html">tempo_tapper.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a32d08f657b75eff5bd9726f119e6f56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d08f657b75eff5bd9726f119e6f56b">&#9670;&nbsp;</a></span>tempo_tapper</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtempo__tapper.html">tempo_tapper</a> <a class="el" href="structtempo__tapper.html">tempo_tapper</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tempo tapper struct. </p>
<p>The following struct represents a virtual tempo tapper, and stores the necessary information to set, alter and receive a tempo value.</p>
<p>To create and interface with a tempo tapper struct, use the following functions:</p>
<ul>
<li><a class="el" href="tempo__tapper__common_8cxx.html#a651d8d5e4cfd850c4174f8afa381526a" title="Creates a new tempo tapper instance.">tt_new()</a> - Creates a new tempo tapper struct</li>
<li><a class="el" href="tempo__tapper__common_8cxx.html#a64b7b4c29845f07ba8678b35968f66cc" title="Returns the period of a tempo in microseconds.">tt_period_us()</a> - Returns the period of a tempo in microseconds</li>
<li><a class="el" href="tempo__tapper__common_8cxx.html#a08a70fd14b08b0b2c49d5975777b0178" title="&quot;Taps&quot; the tempo tapper">tt_tap()</a> - "Taps" the tempo tapper</li>
<li><a class="el" href="tempo__tapper__common_8cxx.html#af7160cb12c6cc18e6d4322235ba25fc4" title="Resets the tempo tapper.">tt_reset()</a> - Resets the tempo tapper</li>
<li><a class="el" href="tempo__tapper__common_8cxx.html#aed1d44fa6cc701a71953643d3585e298" title="Returns the tempo in BPM.">tt_bpm()</a> - Returns the tempo in BPM</li>
</ul>
<p>To store time values, the platform varying tt_time_t typedef is used, as each platform offers its own preferred data type or struct to store time values (Ex. timeval on posix). This means that time arithmetic is implemented differently on every platform (see <a class="el" href="tempo__tapper_8h.html#ab2548e0a4b4ebf06eed0cde2478a99f4" title="Receives the current clock time.">current_time()</a>, <a class="el" href="tempo__tapper_8h.html#a9e82676b897bbffc439046cc597d633a" title="Adds two time values.">add_time()</a>, <a class="el" href="tempo__tapper_8h.html#a8be4acb58f6a1bdbf36b49b6e9c6a427" title="Subtracts two time values.">sub_time()</a>, <a class="el" href="tempo__tapper_8h.html#a34adb0adab019689d84b201859beae43" title="Returns a time value in microseconds.">time_to_us()</a>, <a class="el" href="tempo__tapper_8h.html#a9f1a8f086496c86c0c5593eb8267283b" title="Resets a time var to 0.">reset_time()</a>). For the library user, this is irrelevant as platform specific code is handled by the library internally. The only noticable external difference may be a variation in speed and precision. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9e82676b897bbffc439046cc597d633a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e82676b897bbffc439046cc597d633a">&#9670;&nbsp;</a></span>add_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_time </td>
          <td>(</td>
          <td class="paramtype">tt_time_t *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tt_time_t *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tt_time_t *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds two time values. </p>
<p>The following function adds two time values, a, and b and stores the result in res.</p>
<dl class="section note"><dt>Note</dt><dd>The implementation of this function is platform specific. </dd></dl>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__common_8cxx_source.html#l00046">tt_tap()</a>.</p>

</div>
</div>
<a id="ab2548e0a4b4ebf06eed0cde2478a99f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2548e0a4b4ebf06eed0cde2478a99f4">&#9670;&nbsp;</a></span>current_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void current_time </td>
          <td>(</td>
          <td class="paramtype">tt_time_t *&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives the current clock time. </p>
<p>The following function sets the parsed time var to the current clock time. The clock time may be the time that has passed since the start of the program, (ex. micros() on arduino platforms), but may also be the current time of the day (ex. gettimeofday() on posix).</p>
<dl class="section note"><dt>Note</dt><dd>The implementation of this function is platform specific. </dd></dl>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__common_8cxx_source.html#l00046">tt_tap()</a>.</p>

</div>
</div>
<a id="a9f1a8f086496c86c0c5593eb8267283b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f1a8f086496c86c0c5593eb8267283b">&#9670;&nbsp;</a></span>reset_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_time </td>
          <td>(</td>
          <td class="paramtype">tt_time_t *&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets a time var to 0. </p>
<p>The following function resets a time var to 0</p>
<dl class="section note"><dt>Note</dt><dd>The implementation of this function is platform specific. </dd></dl>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__common_8cxx_source.html#l00083">tt_reset()</a>.</p>

</div>
</div>
<a id="a8be4acb58f6a1bdbf36b49b6e9c6a427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8be4acb58f6a1bdbf36b49b6e9c6a427">&#9670;&nbsp;</a></span>sub_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sub_time </td>
          <td>(</td>
          <td class="paramtype">tt_time_t *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tt_time_t *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tt_time_t *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subtracts two time values. </p>
<p>The following function subtracts the time value of b from a and stores the result in res.</p>
<dl class="section note"><dt>Note</dt><dd>The implementation of this function is platform specific. </dd></dl>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__common_8cxx_source.html#l00046">tt_tap()</a>.</p>

</div>
</div>
<a id="a34adb0adab019689d84b201859beae43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34adb0adab019689d84b201859beae43">&#9670;&nbsp;</a></span>time_to_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long time_to_us </td>
          <td>(</td>
          <td class="paramtype">tt_time_t *&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a time value in microseconds. </p>
<p>The following function converts and returns a time value in microseconds.</p>
<dl class="section return"><dt>Returns</dt><dd>Time in microseconds </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The implementation of this function is platform specific. </dd></dl>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__common_8cxx_source.html#l00037">tt_period_us()</a>.</p>

</div>
</div>
<a id="aed1d44fa6cc701a71953643d3585e298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed1d44fa6cc701a71953643d3585e298">&#9670;&nbsp;</a></span>tt_bpm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float tt_bpm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtempo__tapper.html">tempo_tapper</a> *&#160;</td>
          <td class="paramname"><em>tapper</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the tempo in BPM. </p>
<p>The following function returns the tempo of the tempo tapper in BPM. The decimal precision is platform dependant.</p>
<dl class="section return"><dt>Returns</dt><dd>Tempo in BPM </dd></dl>

<p class="definition">Definition at line <a class="el" href="tempo__tapper__common_8cxx_source.html#l00072">72</a> of file <a class="el" href="tempo__tapper__common_8cxx_source.html">tempo_tapper_common.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> us = <a class="code" href="tempo__tapper__common_8cxx.html#a64b7b4c29845f07ba8678b35968f66cc">tt_period_us</a>(tapper);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">if</span> (us == 0)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">return</span> (60 * S_TO_US)/(float)<a class="code" href="tempo__tapper__common_8cxx.html#a64b7b4c29845f07ba8678b35968f66cc">tt_period_us</a>(tapper);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tempo__tapper__common_8cxx_source.html#l00037">tt_period_us()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__cpp_8cxx_source.html#l00064">tempo_tapper_cpp::bpm()</a>.</p>

</div>
</div>
<a id="a651d8d5e4cfd850c4174f8afa381526a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a651d8d5e4cfd850c4174f8afa381526a">&#9670;&nbsp;</a></span>tt_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtempo__tapper.html">tempo_tapper</a>* tt_new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new tempo tapper instance. </p>
<p>The following function creates and initializes a tempo tapper struct instance.</p>
<dl class="section return"><dt>Returns</dt><dd>A initialized <a class="el" href="structtempo__tapper.html" title="Tempo tapper struct.">tempo_tapper</a> struct instance or NULL on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="tempo__tapper__common_8cxx_source.html#l00061">61</a> of file <a class="el" href="tempo__tapper__common_8cxx_source.html">tempo_tapper_common.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="structtempo__tapper.html">tempo_tapper</a> *tapper = (<a class="code" href="structtempo__tapper.html">tempo_tapper</a> *) malloc(<span class="keyword">sizeof</span>(<a class="code" href="structtempo__tapper.html">tempo_tapper</a>));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">if</span> (tapper == NULL)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <a class="code" href="tempo__tapper__common_8cxx.html#af7160cb12c6cc18e6d4322235ba25fc4">tt_reset</a>(tapper);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">return</span> tapper;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tempo__tapper__common_8cxx_source.html#l00083">tt_reset()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__cpp_8cxx_source.html#l00034">tempo_tapper_cpp::tempo_tapper_cpp()</a>.</p>

</div>
</div>
<a id="a64b7b4c29845f07ba8678b35968f66cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64b7b4c29845f07ba8678b35968f66cc">&#9670;&nbsp;</a></span>tt_period_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long tt_period_us </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtempo__tapper.html">tempo_tapper</a> *&#160;</td>
          <td class="paramname"><em>tapper</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the period of a tempo in microseconds. </p>
<p>The following function returns the time in microseconds for a period of the current tempo set by the tempo tapper struct.</p>
<dl class="section return"><dt>Returns</dt><dd>Period time in microseconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="tempo__tapper__common_8cxx_source.html#l00037">37</a> of file <a class="el" href="tempo__tapper__common_8cxx_source.html">tempo_tapper_common.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">if</span> (tapper-&gt;<a class="code" href="structtempo__tapper.html#a4641535ce890cadb2cb2b56da5cb08b8">taps</a> &lt; 1)</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> us = <a class="code" href="tempo__tapper_8h.html#a34adb0adab019689d84b201859beae43">time_to_us</a>(&amp;tapper-&gt;<a class="code" href="structtempo__tapper.html#a1a37a45ce428be64a2e07ef7929e01be">prd_sum</a>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordflow">return</span> us/tapper-&gt;<a class="code" href="structtempo__tapper.html#a4641535ce890cadb2cb2b56da5cb08b8">taps</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tempo__tapper_8h_source.html#l00087">tempo_tapper::prd_sum</a>, <a class="el" href="tempo__tapper_8h_source.html#l00089">tempo_tapper::taps</a>, and <a class="el" href="tempo__tapper_8h.html#a34adb0adab019689d84b201859beae43">time_to_us()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__cpp_8cxx_source.html#l00049">tempo_tapper_cpp::period_us()</a>, and <a class="el" href="tempo__tapper__common_8cxx_source.html#l00072">tt_bpm()</a>.</p>

</div>
</div>
<a id="af7160cb12c6cc18e6d4322235ba25fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7160cb12c6cc18e6d4322235ba25fc4">&#9670;&nbsp;</a></span>tt_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tt_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtempo__tapper.html">tempo_tapper</a> *&#160;</td>
          <td class="paramname"><em>tapper</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the tempo tapper. </p>
<p>The following function resets the tempo tapper to its iniital values. </p>

<p class="definition">Definition at line <a class="el" href="tempo__tapper__common_8cxx_source.html#l00083">83</a> of file <a class="el" href="tempo__tapper__common_8cxx_source.html">tempo_tapper_common.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        tapper-&gt;<a class="code" href="structtempo__tapper.html#a4641535ce890cadb2cb2b56da5cb08b8">taps</a> = -1;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="tempo__tapper_8h.html#a9f1a8f086496c86c0c5593eb8267283b">reset_time</a>(&amp;tapper-&gt;<a class="code" href="structtempo__tapper.html#a1a37a45ce428be64a2e07ef7929e01be">prd_sum</a>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tempo__tapper_8h_source.html#l00087">tempo_tapper::prd_sum</a>, <a class="el" href="tempo__tapper_8h.html#a9f1a8f086496c86c0c5593eb8267283b">reset_time()</a>, and <a class="el" href="tempo__tapper_8h_source.html#l00089">tempo_tapper::taps</a>.</p>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__cpp_8cxx_source.html#l00059">tempo_tapper_cpp::reset()</a>, and <a class="el" href="tempo__tapper__common_8cxx_source.html#l00061">tt_new()</a>.</p>

</div>
</div>
<a id="a08a70fd14b08b0b2c49d5975777b0178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08a70fd14b08b0b2c49d5975777b0178">&#9670;&nbsp;</a></span>tt_tap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tt_tap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtempo__tapper.html">tempo_tapper</a> *&#160;</td>
          <td class="paramname"><em>tapper</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>"Taps" the tempo tapper </p>
<p>The following function is used to "tap" a tempo tapper struct instance. Calling this function on a tempo tapper struct will increase the value of taps, add the time that has passed since the last tap to prd_sum and update lst_t to the current clock time. </p>

<p class="definition">Definition at line <a class="el" href="tempo__tapper__common_8cxx_source.html#l00046">46</a> of file <a class="el" href="tempo__tapper__common_8cxx_source.html">tempo_tapper_common.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        tt_time_t c_time;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="tempo__tapper_8h.html#ab2548e0a4b4ebf06eed0cde2478a99f4">current_time</a>(&amp;c_time);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">if</span> (tapper-&gt;<a class="code" href="structtempo__tapper.html#a4641535ce890cadb2cb2b56da5cb08b8">taps</a> &gt;= 0) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                tt_time_t tdiff;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <a class="code" href="tempo__tapper_8h.html#a8be4acb58f6a1bdbf36b49b6e9c6a427">sub_time</a>(&amp;c_time, &amp;tapper-&gt;<a class="code" href="structtempo__tapper.html#ada52022389635f3bdfd065c9b19c2bfd">lst_t</a>, &amp;tdiff);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                <a class="code" href="tempo__tapper_8h.html#a9e82676b897bbffc439046cc597d633a">add_time</a>(&amp;tapper-&gt;<a class="code" href="structtempo__tapper.html#a1a37a45ce428be64a2e07ef7929e01be">prd_sum</a>, &amp;tdiff, &amp;tapper-&gt;<a class="code" href="structtempo__tapper.html#a1a37a45ce428be64a2e07ef7929e01be">prd_sum</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        tapper-&gt;<a class="code" href="structtempo__tapper.html#a4641535ce890cadb2cb2b56da5cb08b8">taps</a>++;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        tapper-&gt;<a class="code" href="structtempo__tapper.html#ada52022389635f3bdfd065c9b19c2bfd">lst_t</a> = c_time;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tempo__tapper_8h.html#a9e82676b897bbffc439046cc597d633a">add_time()</a>, <a class="el" href="tempo__tapper_8h.html#ab2548e0a4b4ebf06eed0cde2478a99f4">current_time()</a>, <a class="el" href="tempo__tapper_8h_source.html#l00088">tempo_tapper::lst_t</a>, <a class="el" href="tempo__tapper_8h_source.html#l00087">tempo_tapper::prd_sum</a>, <a class="el" href="tempo__tapper_8h.html#a8be4acb58f6a1bdbf36b49b6e9c6a427">sub_time()</a>, and <a class="el" href="tempo__tapper_8h_source.html#l00089">tempo_tapper::taps</a>.</p>

<p class="reference">Referenced by <a class="el" href="tempo__tapper__cpp_8cxx_source.html#l00054">tempo_tapper_cpp::tap()</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="atempo__tapper_8h_html_a9f1a8f086496c86c0c5593eb8267283b"><div class="ttname"><a href="tempo__tapper_8h.html#a9f1a8f086496c86c0c5593eb8267283b">reset_time</a></div><div class="ttdeci">void reset_time(tt_time_t *time)</div><div class="ttdoc">Resets a time var to 0.</div></div>
<div class="ttc" id="atempo__tapper_8h_html_a9e82676b897bbffc439046cc597d633a"><div class="ttname"><a href="tempo__tapper_8h.html#a9e82676b897bbffc439046cc597d633a">add_time</a></div><div class="ttdeci">void add_time(tt_time_t *a, tt_time_t *b, tt_time_t *res)</div><div class="ttdoc">Adds two time values.</div></div>
<div class="ttc" id="atempo__tapper__common_8cxx_html_af7160cb12c6cc18e6d4322235ba25fc4"><div class="ttname"><a href="tempo__tapper__common_8cxx.html#af7160cb12c6cc18e6d4322235ba25fc4">tt_reset</a></div><div class="ttdeci">void tt_reset(tempo_tapper *tapper)</div><div class="ttdoc">Resets the tempo tapper.</div><div class="ttdef"><b>Definition:</b> <a href="tempo__tapper__common_8cxx_source.html#l00083">tempo_tapper_common.cxx:83</a></div></div>
<div class="ttc" id="astructtempo__tapper_html_a1a37a45ce428be64a2e07ef7929e01be"><div class="ttname"><a href="structtempo__tapper.html#a1a37a45ce428be64a2e07ef7929e01be">tempo_tapper::prd_sum</a></div><div class="ttdeci">tt_time_t prd_sum</div><div class="ttdoc">Holds the sum of all measured/&quot;tapped&quot; periods.</div><div class="ttdef"><b>Definition:</b> <a href="tempo__tapper_8h_source.html#l00087">tempo_tapper.h:87</a></div></div>
<div class="ttc" id="astructtempo__tapper_html_ada52022389635f3bdfd065c9b19c2bfd"><div class="ttname"><a href="structtempo__tapper.html#ada52022389635f3bdfd065c9b19c2bfd">tempo_tapper::lst_t</a></div><div class="ttdeci">tt_time_t lst_t</div><div class="ttdoc">Hold the clock time of the last tap.</div><div class="ttdef"><b>Definition:</b> <a href="tempo__tapper_8h_source.html#l00088">tempo_tapper.h:88</a></div></div>
<div class="ttc" id="astructtempo__tapper_html_a4641535ce890cadb2cb2b56da5cb08b8"><div class="ttname"><a href="structtempo__tapper.html#a4641535ce890cadb2cb2b56da5cb08b8">tempo_tapper::taps</a></div><div class="ttdeci">int taps</div><div class="ttdoc">Number of taps. The inital val is -1, meaning the 1st tap does not count.</div><div class="ttdef"><b>Definition:</b> <a href="tempo__tapper_8h_source.html#l00089">tempo_tapper.h:89</a></div></div>
<div class="ttc" id="atempo__tapper_8h_html_a8be4acb58f6a1bdbf36b49b6e9c6a427"><div class="ttname"><a href="tempo__tapper_8h.html#a8be4acb58f6a1bdbf36b49b6e9c6a427">sub_time</a></div><div class="ttdeci">void sub_time(tt_time_t *a, tt_time_t *b, tt_time_t *res)</div><div class="ttdoc">Subtracts two time values.</div></div>
<div class="ttc" id="astructtempo__tapper_html"><div class="ttname"><a href="structtempo__tapper.html">tempo_tapper</a></div><div class="ttdoc">Tempo tapper struct.</div><div class="ttdef"><b>Definition:</b> <a href="tempo__tapper_8h_source.html#l00085">tempo_tapper.h:85</a></div></div>
<div class="ttc" id="atempo__tapper_8h_html_a34adb0adab019689d84b201859beae43"><div class="ttname"><a href="tempo__tapper_8h.html#a34adb0adab019689d84b201859beae43">time_to_us</a></div><div class="ttdeci">unsigned long time_to_us(tt_time_t *time)</div><div class="ttdoc">Returns a time value in microseconds.</div></div>
<div class="ttc" id="atempo__tapper__common_8cxx_html_a64b7b4c29845f07ba8678b35968f66cc"><div class="ttname"><a href="tempo__tapper__common_8cxx.html#a64b7b4c29845f07ba8678b35968f66cc">tt_period_us</a></div><div class="ttdeci">unsigned long tt_period_us(tempo_tapper *tapper)</div><div class="ttdoc">Returns the period of a tempo in microseconds.</div><div class="ttdef"><b>Definition:</b> <a href="tempo__tapper__common_8cxx_source.html#l00037">tempo_tapper_common.cxx:37</a></div></div>
<div class="ttc" id="atempo__tapper_8h_html_ab2548e0a4b4ebf06eed0cde2478a99f4"><div class="ttname"><a href="tempo__tapper_8h.html#ab2548e0a4b4ebf06eed0cde2478a99f4">current_time</a></div><div class="ttdeci">void current_time(tt_time_t *time)</div><div class="ttdoc">Receives the current clock time.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
